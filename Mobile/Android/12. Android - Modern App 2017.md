# Android

## Современные библиотеки и инструменты - 2017

### Обработка данных

__Вход__: есть данные в виде JSON-строки

__Выход__: удобные для работы Java-объекты.

Варианты решения:

1) Встроенный `JSONObject`.

2) Библиотеки __Moshi__, __Gson__, __LoganSquare__ и др.

Работу с JSON (парсинг/сериализация) можно (нужно) тестировать с помощью автоматических тестов. Для этого есть библиотека __JsonUnit__. 

---

#### Retrofit

Совмещение сетевого запроса и парсинга результата - библиотека __Retrofit__

---

Как теперь представить десериализованные данные в Java?

1) Pojo-объект -- мб плохо.

2) Java Bean -- тяжело.

3) Библиотеки: __AutoValue__ [c расширением - __Auto-Parcel__], __Immutable__, __Lombok__.

___

### Работа с датой и временем

Например, в зависимости от возраста пользователя нужно показывать ему разные баннеры. Какими инструментами решать эту задачу?

1) Стандартные `Date` и `Calendar` - для простых вычислений и если есть ограничения на количество методов.

2) Библиотека __JodaTime__ - нет, лучше __ThreeTenABP__ - если нет ограничений на количество методов.

Проблема файла `tzdata`.

---

### Загрузка изображений

2 основных варианта: 1) __Picasso__

2) __Glide__ - если нет ограничений на число методов. Лучший вариант.

---

### Архитектура

Это Dependency Injection + MVP | MVC | MVVM.

__DI__: Популярен __Dagger2__, но есть более новое решение -- __Toothpick__. Выбор по вашему усмотрению.

__MV*__: 1) самописный MVP.

2) Фреймворки: Mosby, Moxy, ... .

---

### Работа с БД

Есть варианты: 1) фреймворк, делающий за вас всё.

2) Более легкие библиотеки, позволющие самому написать свою логику в нестандартных случаях.

__Room__ - architecture component для работы с БД SQLite.

---

### Статический анализ кода - линтеры и т.п.

