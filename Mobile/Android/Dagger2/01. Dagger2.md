# Dagger2

Dagger2 - это библиотека для внедрения зависимостей, которая выполняет функции

* Фабричных классов
* Service Loader'ов
* Оберток (wrapper'ов)

Dagger2 удобно применять для

* тестов
* выбирать разные классы для dev и prod версий приложения. 
* для reusable модулей во всем приложении

Dagger2 построен на основе идеи генерации кода во время компиляции, а не рефлексии во время выполнения.

---

Пример использования Dagger2 - Кофе-машина (Coffee Maker).

## Объявление зависимостей

Dagger2 отвечает за создание экземпляров классов вашего приложения. 

Аннотация __@Inject__ используется для указания конструктора, который будет использоваться Dagger'ом для создания экземпляров данного класса. 

```java
class Thermosiphon implements Pump {
    private final Heater heater;

    @Inject
    Thermosiphon(Heater heater) {
        this.heater = heater;
    }

    // ...
}
```

При начале работы с экземпляром класса Thermosiphon в коде приложения, Dagger2 получит объекты, необходимые в качестве параметров этого конструктора, вызовет этот конструктор и вернет экземпляр этого класса. (__Внедрение зависимостей через конструктор__).

Dagger2 может внедрять зависимости напрямую для полей (__внедрение зависимостей через поле__):

```java
class CoffeeMaker {
    @Inject Heater heater;
    @Inject Pump pump;
    // ...
}
```

